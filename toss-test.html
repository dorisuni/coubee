<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì´ˆê°„ë‹¨ PortOne V2 í† ìŠ¤í˜ì´ í…ŒìŠ¤íŠ¸</title>
    <!-- PortOne V2 Browser SDK -->
    <script src="https://cdn.portone.io/v2/browser-sdk.js"></script>
    <style>
        body { font-family: sans-serif; display: flex; align-items: center; justify-content: center; height: 100vh; margin: 0; background-color: #f0f2f5; }
        .container { background: white; padding: 40px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); text-align: center; }
        #tossPayButton { background-color: #007bff; color: white; padding: 15px 30px; border: none; border-radius: 5px; cursor: pointer; font-size: 18px; font-weight: bold; }
        #log { margin-top: 20px; padding: 15px; background: #282c34; color: #61dafb; text-align: left; white-space: pre-wrap; font-family: monospace; border-radius: 5px; max-height: 300px; overflow-y: auto; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ í† ìŠ¤í˜ì´ ê²°ì œì°½ í˜¸ì¶œ í…ŒìŠ¤íŠ¸</h1>
        <p>ì´ í˜ì´ì§€ëŠ” ë°±ì—”ë“œ ì—†ì´ ì˜¤ì§ í”„ë¡ íŠ¸ì—”ë“œë§Œìœ¼ë¡œ<br>PortOne í† ìŠ¤í˜ì´ ê²°ì œë¥¼ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.</p>
        <button id="tossPayButton">í† ìŠ¤í˜ì´ ê²°ì œ í…ŒìŠ¤íŠ¸ (1,000ì›)</button>
        <pre id="log">ë¡œê·¸ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤...</pre>
    </div>

    <script>
        const tossPayButton = document.getElementById('tossPayButton');
        const logElement = document.getElementById('log');

        function log(message) {
            console.log(message);
            logElement.textContent += `[${new Date().toLocaleTimeString()}] ${message}\n`;
            logElement.scrollTop = logElement.scrollHeight;
        }

        async function doTossPayment() {
            log('PortOne SDK ë¡œë“œ í™•ì¸ ì¤‘...');
            if (typeof window.PortOne === 'undefined') {
                log('ì˜¤ë¥˜: PortOne SDKê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
                return;
            }
            log('âœ… PortOne SDK ë¡œë“œ ì™„ë£Œ.');

            // ===================================================================
            // â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼ ì´ ê°’ì„ ë³¸ì¸ì˜ ì •ë³´ë¡œ í™•ì¸í•´ì£¼ì„¸ìš” â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼â–¼
            // ===================================================================
            const myStoreId = "store-a9463375-7b07-40fc-8c4f-e0bd4fb0c2b7";
            const myTossPayChannelKey = "channel-key-375e06c6-e99f-4563-a94a-04a3752d0243";
            // ===================================================================
            // â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²â–²
            // ===================================================================

            const paymentData = {
                // ìŠ¤í† ì–´ IDì™€ ì±„ë„ í‚¤
                storeId: myStoreId,
                channelKey: myTossPayChannelKey,
                
                // --- ì£¼ë¬¸ ì •ë³´ (í•„ìˆ˜) ---
                paymentId: `order_test_${Date.now()}`, // ë§¤ë²ˆ ë‹¤ë¥¸ ID ìƒì„±
                orderName: "í† ìŠ¤í˜ì´ í…ŒìŠ¤íŠ¸ ê²°ì œ",
                totalAmount: 1000,
                currency: "KRW",
                
                // --- ê²°ì œ ìˆ˜ë‹¨ ì •ë³´ (í•„ìˆ˜) ---
                payMethod: "EASY_PAY",

                // --- êµ¬ë§¤ì ì •ë³´ (ê¶Œì¥) ---
                customer: {
                    fullName: "í¬íŠ¸ì›",
                    phoneNumber: "010-0000-1234",
                    email: "test@portone.io"
                },
            };
            
            log('ê²°ì œ ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤...');
            log('ìš”ì²­ ë°ì´í„°: ' + JSON.stringify(paymentData, null, 2));
            
            try {
                const response = await PortOne.requestPayment(paymentData);
                
                if (response.code != null) {
                    // ê²°ì œ ì‹¤íŒ¨ ë˜ëŠ” ì‚¬ìš©ìê°€ ì°½ì„ ë‹«ì€ ê²½ìš°
                    log(`âŒ ê²°ì œ ì‹¤íŒ¨ ë˜ëŠ” ì¤‘ë‹¨`);
                    log(`   - ì½”ë“œ: ${response.code}`);
                    log(`   - ë©”ì‹œì§€: ${response.message}`);
                } else {
                    // ê²°ì œ ì„±ê³µ
                    log(`ğŸ‰ ê²°ì œ ì„±ê³µ!`);
                    log(`   - paymentId: ${response.paymentId}`);
                    log(`   - txId: ${response.txId}`);
                    alert('ê²°ì œ ì„±ê³µ!');
                }
            } catch (error) {
                log(`ğŸ’¥ SDK í˜¸ì¶œ ì¤‘ ì˜ˆì™¸ ë°œìƒ: ${error.message}`);
            }
        }

        tossPayButton.addEventListener('click', doTossPayment);
        
        window.addEventListener('load', () => {
             log('í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ. ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í•˜ì„¸ìš”.');
        });
    </script>
</body>
</html>